module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},25210,a=>{a.n(a.i(2747))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},26793,a=>{"use strict";let b=(0,a.i(1269).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],26793)},77695,a=>{"use strict";let b=(0,a.i(1269).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],77695)},42119,93045,99635,a=>{"use strict";var b=a.i(61469);async function c(){let[a,c,d]=await Promise.all([b.sql`SELECT ROUND(pg_database_size(current_database()) / (1024.0 * 1024.0), 2) || ' MB' as size`,b.sql`
      SELECT 
        relname as table_name, 
        pg_total_relation_size(C.oid) as size_bytes,
        ROUND(pg_total_relation_size(C.oid) / (1024.0 * 1024.0), 3) || ' MB' as size_pretty
      FROM pg_class C 
      LEFT JOIN pg_namespace N ON (N.oid = C.relnamespace) 
      WHERE nspname NOT IN ('pg_catalog', 'information_schema') 
        AND relkind='r' 
      ORDER BY pg_total_relation_size(C.oid) DESC
      LIMIT 10
    `,b.sql`
      SELECT 
        COUNT(*) as total_users,
        COUNT(*) FILTER (WHERE created_at > NOW() - INTERVAL '30 days') as new_users_30d,
        COUNT(DISTINCT role) as unique_roles
      FROM profiles
    `]);return{database:{totalSize:a[0].size,tables:c},authentication:{totalUsers:d[0].total_users,newUsers30d:d[0].new_users_30d,roles:d[0].unique_roles,provider:"Descope"}}}a.s(["getInfrastructureUsage",()=>c],42119);var d=a.i(1269);let e=(0,d.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["Database",()=>e],93045);let f=(0,d.default)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);a.s(["HardDrive",()=>f],99635)},29476,a=>{"use strict";var b=a.i(7997),c=a.i(42119),d=a.i(93045),e=a.i(77695),f=a.i(26793),g=a.i(99635),h=a.i(1269);let i=(0,h.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),j=(0,h.default)("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),k=(0,h.default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var l=a.i(39138);async function m(){let a=await (0,c.getInfrastructureUsage)();return(0,b.jsxs)("div",{className:"p-6 md:p-12 max-w-[1600px] mx-auto space-y-12 animate-in",children:[(0,b.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-amber-400 font-bold tracking-[0.2em] text-[10px] uppercase mb-3",children:[(0,b.jsx)("span",{className:"w-8 h-[1px] bg-amber-500/50"})," Infrastructure Analysis"]}),(0,b.jsxs)("h1",{className:"text-5xl font-black tracking-tight text-white",children:["Resource ",(0,b.jsx)("span",{className:"text-amber-500",children:"Utilization"})]}),(0,b.jsx)("p",{className:"text-slate-400 mt-2 font-medium",children:"Monitoring Neon Database and Descope Authentication metrics."})]}),(0,b.jsxs)("div",{className:"bg-amber-500/10 p-4 rounded-2xl border border-amber-500/20 flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 bg-amber-500/20 rounded-xl text-amber-400",children:(0,b.jsx)(j,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-2xl font-black text-white",children:a.database.totalSize}),(0,b.jsx)("div",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"Total Storage Used"})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,b.jsxs)("section",{className:"glass-card rounded-[2.5rem] p-8 md:p-10 space-y-8 bg-transparent border border-white/5 relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(d.Database,{className:"w-32 h-32 text-amber-500"})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-amber-500/20 flex items-center justify-center text-amber-400",children:(0,b.jsx)(d.Database,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-black text-white",children:"Neon PostgreSQL"}),(0,b.jsx)("p",{className:"text-sm text-slate-500",children:"Global Region: ap-southeast-1"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 relative",children:[(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.02] border border-white/5",children:[(0,b.jsx)("div",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Status"}),(0,b.jsxs)("div",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})," Active"]})]}),(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.02] border border-white/5",children:[(0,b.jsx)("div",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Total Size"}),(0,b.jsx)("div",{className:"text-lg font-bold text-white",children:a.database.totalSize})]})]}),(0,b.jsxs)("div",{className:"space-y-4 relative",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest px-2",children:"Table Breakdown"}),(0,b.jsx)("div",{className:"space-y-2",children:a.database.tables.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/[0.01] border border-white/5 hover:bg-white/[0.03] transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k,{className:"w-4 h-4 text-amber-500/50"}),(0,b.jsx)("span",{className:"text-sm font-bold text-slate-300",children:a.table_name})]}),(0,b.jsx)("span",{className:"text-xs font-mono text-slate-500",children:a.size_pretty})]},a.table_name))})]})]}),(0,b.jsxs)("section",{className:"glass-card rounded-[2.5rem] p-8 md:p-10 space-y-8 bg-transparent border border-white/5 relative overflow-hidden group",children:[(0,b.jsx)("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,b.jsx)(f.Shield,{className:"w-32 h-32 text-indigo-500"})}),(0,b.jsxs)("div",{className:"flex items-center gap-4 relative",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-2xl bg-indigo-500/20 flex items-center justify-center text-indigo-400",children:(0,b.jsx)(f.Shield,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-black text-white",children:[a.authentication.provider," Auth"]}),(0,b.jsxs)("p",{className:"text-sm text-slate-500",children:["Project ID: ",process.env.NEXT_PUBLIC_DESCOPE_PROJECT_ID?.slice(0,8),"..."]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 relative",children:[(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.02] border border-white/5",children:[(0,b.jsx)("div",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"Total Profiles"}),(0,b.jsx)("div",{className:"text-3xl font-black text-white",children:a.authentication.totalUsers})]}),(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.02] border border-white/5",children:[(0,b.jsx)("div",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest mb-1",children:"New (30d)"}),(0,b.jsxs)("div",{className:"text-3xl font-black text-indigo-400",children:["+",a.authentication.newUsers30d]})]})]}),(0,b.jsxs)("div",{className:"space-y-6 relative",children:[(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-indigo-500/5 border border-indigo-500/10 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h4",{className:"font-bold text-white text-sm",children:"Monthly Active Users"}),(0,b.jsx)("span",{className:"text-[10px] font-black uppercase text-slate-500 bg-white/5 px-2 py-0.5 rounded",children:"Estimated"})]}),(0,b.jsx)("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-indigo-500 w-[65%]"})}),(0,b.jsxs)("div",{className:"flex justify-between text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:[(0,b.jsxs)("span",{children:["Current: ",a.authentication.totalUsers]}),(0,b.jsx)("span",{children:"Tier Limit: 7,500"})]})]}),(0,b.jsxs)("div",{className:"p-6 rounded-3xl bg-white/[0.02] border border-white/5 space-y-2",children:[(0,b.jsx)("h4",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest",children:"Security Roles Detected"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:["Admin","Owner","Member","Guest"].map(a=>(0,b.jsx)("span",{className:"px-3 py-1 rounded-full bg-white/5 text-[10px] font-bold text-slate-300 border border-white/5",children:a},a))})]})]})]})]}),(0,b.jsxs)("section",{className:"glass-card rounded-[2.5rem] p-10 bg-transparent border border-white/5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-white",children:"Usage Projections"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Estimated infrastructure growth based on current ingestion rates."})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"px-4 py-2 rounded-xl bg-white/5 text-[10px] font-bold text-slate-400 hover:text-white transition-all uppercase tracking-widest",children:"7 Days"}),(0,b.jsx)("button",{className:"px-4 py-2 rounded-xl bg-white/10 text-[10px] font-bold text-white uppercase tracking-widest border border-white/10",children:"30 Days"})]})]}),(0,b.jsx)("div",{className:"grid gap-8 md:grid-cols-3",children:[{label:"Storage Growth",value:"+4.2 MB/day",icon:(0,b.jsx)(g.HardDrive,{className:"w-5 h-5"}),color:"text-amber-500"},{label:"Avg Latency",value:"48 ms",icon:(0,b.jsx)(e.Zap,{className:"w-5 h-5"}),color:"text-blue-500"},{label:"Cost Est.",value:"$0.00 (Tier)",icon:(0,b.jsx)(i,{className:"w-5 h-5"}),color:"text-emerald-500"}].map((a,c)=>(0,b.jsxs)("div",{className:"p-6 rounded-[2rem] bg-white/[0.02] border border-white/5 flex items-center gap-6",children:[(0,b.jsx)("div",{className:(0,l.cn)("p-4 rounded-2xl bg-white/5",a.color),children:a.icon}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[10px] font-black uppercase text-slate-600 tracking-widest",children:a.label}),(0,b.jsx)("div",{className:"text-xl font-black text-white",children:a.value})]})]},c))})]})]})}a.s(["default",()=>m],29476)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7bafc4e9._.js.map